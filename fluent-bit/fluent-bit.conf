[SERVICE]
    Flush        1
    Daemon       off
    Log_Level    info
    HTTP_Server  On
    HTTP_Listen  0.0.0.0
    HTTP_Port    2020

[INPUT]
    Name        forward
    Listen      0.0.0.0
    Port        24224

# Log all messages to stdout for Docker container logging
[OUTPUT]
    Name        stdout
    Match       *
    Format      json

# Save all logs to file
[OUTPUT]
    Name        file
    Match       *
    Path        /fluent-bit/logs/
    File        application.log
    Format      json_lines

# Save error logs to a separate file
[FILTER]
    Name        grep
    Match       *
    Regex       level ERROR|WARN

[OUTPUT]
    Name        file
    Match       *
    Path        /fluent-bit/logs/
    File        errors.log
    Format      json_lines

# Performance logs to a separate file
[FILTER]
    Name        grep
    Match       *
    Regex       context Performance

[OUTPUT]
    Name        file
    Match       *
    Path        /fluent-bit/logs/
    File        performance.log
    Format      json_lines

# Database logs to a separate file
[FILTER]
    Name        grep
    Match       *
    Regex       context Database|Prisma

[OUTPUT]
    Name        file
    Match       *
    Path        /fluent-bit/logs/
    File        database.log
    Format      json_lines